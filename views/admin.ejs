<!-- views/admin.ejs -->
<%- include('partials/header') %>
  <link rel="stylesheet" href="/css/styles.css">

<h2>Admin Page</h2>
<table class="table table-striped">
  <thead>
    <tr>
      <th>Account</th>
      <th>Role</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    <% users.forEach(user => { %>
      <tr>
        <td><%= user.account %></td>
        <td><%= user.role === 1 ? 'Admin' : 'Regular User' %></td>
        <td>
          <form action="/admin/delete/<%= user._id %>" method="POST" style="display:inline;">
            <button type="submit" class="btn btn-danger btn-sm">Delete</button>
          </form>
          <form action="/admin/reset-password/<%= user._id %>" method="POST" style="display:inline;">
            <input type="password" name="newPassword" placeholder="New Password" required>
            <button type="submit" class="btn btn-warning btn-sm">Reset Password</button>
          </form>
        </td>
      </tr>
    <% }) %>
  </tbody>
</table>

<%- include('partials/footer') %>
